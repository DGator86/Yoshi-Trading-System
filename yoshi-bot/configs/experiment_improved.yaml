# Improved experiment configuration with enhanced ML models
symbols:
- BTCUSDT
- ETHUSDT
- SOLUSDT
venue: binance_spot
dataset:
  mode: parquet
  parquet_dir: data/ccxt_extended
random_seed: 1337

walkforward:
  outer_folds: 4
  train_days: 30
  val_days: 7
  test_days: 7
  purge_trades: HORIZON
  embargo_trades: HORIZON

forecast:
  target: price_at_time
  baseline_required: true
  coverage_targets:
    p90_min: 0.87
    p90_max: 0.93
  scoring:
    primary: pinball_loss
    secondary:
    - crps_approx
    - sharpness
    - mae
  horizon_bars: 9
  sigma_scale: 2.8  # Optimized from Ralph Loop
  residual_calibration:
    enabled: true
    alpha: 0.1
    cal_frac: 0.2
    min_cal: 50
    method: quantile
    ewma_lambda: 0.35
    clip_lo: 0.0
    clip_hi: 0.08

artifacts:
  out_dir: reports/improved

models:
  predictor:
    # Use gradient boosting backend for nonlinear patterns
    backend: gradient_boost
    n_estimators: 50
    max_depth: 3
    learning_rate: 0.1
    l2_reg: 0.01
    # Enable extended feature set
    extended_features: true
    normalize: true
    sigma_scale: 2.8
