symbols:
- BTCUSDT
- ETHUSDT
- SOLUSDT
venue: binance_spot
dataset:
  mode: ohlcv
  parquet_dir: data/large_history
  live:
    exchange: kraken
    days: 90  # Expanded for better learning
    timeframe: 1h
random_seed: 1337
walkforward:
  outer_folds: 6
  train_days: 30  # Increased for stability
  val_days: 7
  test_days: 7
  purge_trades: HORIZON
  embargo_trades: HORIZON
forecast:
  target: price_at_time
  baseline_required: true
  coverage_targets:
    p90_min: 0.87
    p90_max: 0.93
  scoring:
    primary: pinball_loss
    secondary:
    - crps_approx
    - sharpness
    - mae
  horizon_bars: 9
  sigma_scale: 1.0
  residual_calibration:
    enabled: true
    alpha: 0.1
    cal_frac: 0.2
    min_cal: 50
    method: quantile
    ewma_lambda: 0.35
    clip_lo: 0.0
    clip_hi: 0.08
artifacts:
  out_dir: reports/latest
models:
  predictor:
    sigma_scale: 1.0
ralph_loop:
  enabled: true
  target_coverage: 0.9
  inner_folds: 3
  purge_bars: 10
  embargo_bars: 10
  weights:
    coverage: 4.0
    wis: 1.0
    is90: 0.5
    mae: 1.0
    abstention: 0.5
  grid:
    domains.domains.D0.n_trades:
    - 50
    - 100
    - 200
    - 400
    regimes.confidence_floor:
    - 0.45
    - 0.55
    - 0.65
    forecast.sigma_scale:
    - 1.0
    - 2.0
    - 3.0
    - 4.0
    - 5.0
    - 7.0
    - 10.0
