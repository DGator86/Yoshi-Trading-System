# Always-on machine learning + optimization supervisor.
# Triggers domain jobs after N newly closed bars per timeframe.
continuous_learning:
  symbols: [BTCUSDT, ETHUSDT, SOLUSDT]
  exchange: kraken
  check_interval_sec: 5
  bootstrap_run: true
  run_backtest: true
  run_extra_improvement_loop: false

  output_root: reports/continuous
  state_path: reports/continuous/supervisor_state.json
  lock_path: reports/continuous/supervisor.lock
  root_dir: .

  base_experiment_config: configs/experiment.yaml
  hparams_config: configs/hparams.yaml
  backtest_config: configs/backtest.yaml

  experiment_script: scripts/run_experiment.py
  backtest_script: scripts/run_backtest.py
  improvement_script: scripts/run_improvement_loop.py

  ccxt_rate_limit_ms: 300
  ccxt_sandbox: false

  # n=2000 trigger by domain (as requested).
  domains:
    - timeframe: 1m
      trigger_n: 2000
      forecast_horizon_bars: 1
      min_wall_interval_sec: 0
      enabled: true
    - timeframe: 5m
      trigger_n: 2000
      forecast_horizon_bars: 1
      min_wall_interval_sec: 0
      enabled: true
    - timeframe: 15m
      trigger_n: 2000
      forecast_horizon_bars: 1
      min_wall_interval_sec: 0
      enabled: true
    - timeframe: 30m
      trigger_n: 2000
      forecast_horizon_bars: 1
      min_wall_interval_sec: 0
      enabled: true
    - timeframe: 1h
      trigger_n: 2000
      forecast_horizon_bars: 1
      min_wall_interval_sec: 0
      enabled: true
    - timeframe: 4h
      trigger_n: 2000
      forecast_horizon_bars: 1
      min_wall_interval_sec: 0
      enabled: true
    - timeframe: 1d
      trigger_n: 2000
      forecast_horizon_bars: 1
      min_wall_interval_sec: 0
      enabled: true
